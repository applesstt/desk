input(type='hidden', ng-model='_csrf', ng-init='_csrf="#{csrf_token}"', value='#{csrf_token}')
.table-responsive
  table.table.table-striped
    thead
      tr
        th 详情
        th 文章列表
        th 操作
    tbody
      tr(ng-repeat='user in wrapData.users')
        td.col-md-4
          include include/user-detail
        td
          include include/user-articles
        td.col-md-2
          .admin-links
            a(href='javascript:{}', ng-click='setStar($index, !user.isStar)')
              span(ng-show='!user.isStar') 设置为明星
              span(ng-show='user.isStar') 取消明星
            a(href='javascript:{}', ng-click='setAdmin($index, !user.isAdmin && !user.isSuperAdmin)', ng-hide='user.isSuperAdmin')
              span(ng-show='!user.isAdmin && !user.isSuperAdmin') 提升为管理员
              span(ng-show='user.isAdmin') 降为普通用户
          a(href='javascript:{}', class='btn btn-danger btn-sm', ng-click='delUser($index, !user.isDel)')
            span(ng-show='!user.isDel') 删除该用户
            span(ng-show='user.isDel') (已删除)恢复用户
  include include/pagination